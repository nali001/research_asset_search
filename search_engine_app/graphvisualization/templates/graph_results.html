{% extends 'visualization.html' %}
{% load static %}

{% block visualization_content %} 
<div id="graph-container" style="width: 100%; height: 100vh;"></div>

  <script type="text/javascript">
    // Initialize a network
    // Sample data for nodes and edges

    var container = document.getElementById('graph-container'); 
    const graphData = {{ graph | safe }};
    console.log(graphData)
    const options = {
      nodes: {
          shape: 'dot',
          {% comment %} size: graphData['nodes'],  // Default node size {% endcomment %}
      },
      edges: {
          smooth: {
              type: 'continuous',
          },
      },
    };
    var network = new vis.Network(container, graphData, options);
  </script>


<script>
    var channel_name = 'graph_channel';
    $('.left_pannel').each(function() {
        var a = $(this).find('a');  // Find 'a' element within each 'left_pannel'
        if (a.attr('id') === channel_name) {
            console.log('Found matching channel:', channel_name);
            // Add a class to the parent div with class 'left_pannel'
            $(this).addClass('active');
        }
    });
</script>

{% endblock %}